"use strict"
function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_createClass=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n]
i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),_findAncestor=require("./helpers/findAncestor"),_findAncestor2=_interopRequireDefault(_findAncestor)
module.exports=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"bind",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2]
this.el=t,this.callback=e,this.autoUnbind=n,this.onClick=this.onClick.bind(this),window.addEventListener("click",this.onClick,!0)}},{key:"unbind",value:function(){window.removeEventListener("click",this.onClick,!0)}},{key:"onClick",value:function(t){if(t.target!==this.el&&!(0,_findAncestor2.default)(this.el,t.target)){if("function"!=typeof this.callback)throw'Expected "callback" to be a function, instead got '+_typeof(this.callback)
this.callback(),this.autoUnbind&&this.unbind()}}}]),t}()
